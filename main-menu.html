<!--
    DORMANT FILE - NOT CURRENTLY IN USE
    Status: Dormant
    Reason: Navigation functionality integrated into individual modules
    Last Active: Navigation hub version
    
    This file provided a navigation hub but direct access to modules
    is now preferred. Navigation is integrated into each active module.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InstaQuote - Business Hub (DORMANT)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    

    
    <style>
        /* Sticky navigation styles */
        .sticky-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: linear-gradient(135deg, #081249 0%, #1e3a8a 50%, #9b7952 100%);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Two-row navigation layout */
        .nav-row-1 {
            height: 60px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-row-2 {
            height: 60px;
        }
        
        /* Navigation item styles */
        .nav-item {
            transition: all 0.3s ease;
            border-radius: 8px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }
        
        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transform: translateY(-2px);
        }
        
        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        /* Content area styles */
        .content-area {
            margin-top: 120px;
            min-height: calc(100vh - 120px);
            background: #f8fafc;
        }
        
        /* Loading animation */
        .loading {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 999;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .nav-item {
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .nav-item span.nav-text {
                display: none;
            }
            
            .nav-row-1, .nav-row-2 {
                height: 50px;
            }
            
            .content-area {
                margin-top: 100px;
                min-height: calc(100vh - 100px);
            }
        }
        
        /* Welcome section */
        .welcome-section {
            background: linear-gradient(135deg, #081249 0%, #1e3a8a 50%, #9b7952 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Sticky Navigation Bar -->
    <nav class="sticky-nav">
        <!-- First Row: Logo and Title -->
        <div class="nav-row-1">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
                <div class="flex items-center justify-center h-full">
                    <div class="flex items-center space-x-4">
                        <img src="images/logo.png" alt="Company Logo" class="h-10 w-auto opacity-90">
                        <h1 class="text-xl sm:text-2xl font-bold text-white">
                            <span style="color: #ffffff;">Insta</span><span style="color: #9b7952;">Q</span><span style="color: #ffffff;">uote</span>
                        </h1>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Second Row: Navigation Menu -->
        <div class="nav-row-2">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
                <div class="flex items-center justify-center h-full">
                    <div class="flex items-center space-x-2 sm:space-x-4">
                        <a href="#" class="nav-item" data-page="price-calculator.html">
                            <i class="fas fa-calculator"></i>
                            <span class="nav-text">Price Lists</span>
                        </a>
                        <a href="#" class="nav-item active" data-page="quote-maker-v2-ver3.html">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <span class="nav-text">Quote Maker</span>
                        </a>
                        <a href="#" class="nav-item" data-page="product-catalog.html">
                            <i class="fas fa-boxes"></i>
                            <span class="nav-text">Catalog</span>
                        </a>
                        <a href="#" class="nav-item" data-page="admin-panel.html">
                            <i class="fas fa-cogs"></i>
                            <span class="nav-text">Admin</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Loading Indicator -->
    <div class="loading" id="loading">
        <div class="flex items-center space-x-2">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
            <span class="text-blue-600 font-medium">Loading...</span>
        </div>
    </div>

    <!-- Content Area -->
    <div class="content-area" id="content-area">
        <!-- Welcome Section (Default) -->
        <div id="welcome-content" class="welcome-section">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl sm:text-5xl font-bold mb-6">Welcome to InstaQuote</h2>
                <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
                    Your comprehensive business management hub. Use the navigation above to access different modules.
                </p>
                
                <!-- Quick Access Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-12">
                    <div class="bg-white/10 backdrop-blur-md rounded-xl p-6 text-center hover:bg-white/20 transition-all duration-300 cursor-pointer" data-page="price-calculator.html">
                        <i class="fas fa-calculator text-3xl mb-3 text-yellow-300"></i>
                        <h3 class="font-bold text-lg">Price Lists</h3>
                    </div>
                    <div class="bg-white/10 backdrop-blur-md rounded-xl p-6 text-center hover:bg-white/20 transition-all duration-300 cursor-pointer" data-page="quote-maker-v2-ver3.html">
                        <i class="fas fa-file-invoice-dollar text-3xl mb-3 text-green-300"></i>
                        <h3 class="font-bold text-lg">Quote Maker</h3>
                    </div>
                    <div class="bg-white/10 backdrop-blur-md rounded-xl p-6 text-center hover:bg-white/20 transition-all duration-300 cursor-pointer" data-page="product-catalog.html">
                        <i class="fas fa-boxes text-3xl mb-3 text-blue-300"></i>
                        <h3 class="font-bold text-lg">Catalog</h3>
                    </div>
                    <div class="bg-white/10 backdrop-blur-md rounded-xl p-6 text-center hover:bg-white/20 transition-all duration-300 cursor-pointer" data-page="admin-panel.html">
                        <i class="fas fa-cogs text-3xl mb-3 text-red-300"></i>
                        <h3 class="font-bold text-lg">Admin</h3>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Dynamic Content Container -->
        <div id="page-content" style="display: none;"></div>
    </div>

    <script>
        
        // Navigation functionality
        class NavigationManager {
            constructor() {
                this.currentPage = 'quote-maker-v2-ver3.html';
                this.init();
                // Load Quote Maker by default
                this.loadPage('quote-maker-v2-ver3.html');
            }
            
            init() {
                // Add click listeners to navigation items
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = item.getAttribute('data-page');
                        this.loadPage(page);
                    });
                });
                
                // Add click listeners to quick access cards
                document.querySelectorAll('[data-page]').forEach(card => {
                    if (!card.classList.contains('nav-item')) {
                        card.addEventListener('click', (e) => {
                            const page = card.getAttribute('data-page');
                            this.loadPage(page);
                        });
                    }
                });
            }
            
            async loadPage(page) {
                if (page === this.currentPage) return;
                
                // Update active navigation item
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('data-page') === page) {
                        item.classList.add('active');
                    }
                });
                
                // Show loading indicator
                this.showLoading();
                
                try {
                    if (page === 'welcome') {
                        this.showWelcome();
                    } else {
                        await this.loadExternalPage(page);
                    }
                    this.currentPage = page;
                } catch (error) {
                    // Silent error handling for page loading
                    this.showError('Failed to load page. Please try again.');
                } finally {
                    this.hideLoading();
                }
            }
            
            showWelcome() {
                document.getElementById('welcome-content').style.display = 'block';
                document.getElementById('page-content').style.display = 'none';
                document.querySelector('.nav-item[data-page="welcome"]').classList.add('active');
            }
            
            async loadExternalPage(page) {
                try {
                    const response = await fetch(page);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const html = await response.text();
                    
                    // Extract body content from the loaded page
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const bodyContent = doc.body.innerHTML;
                    
                    // Hide welcome content and show page content
                    document.getElementById('welcome-content').style.display = 'none';
                    const pageContentDiv = document.getElementById('page-content');
                    pageContentDiv.innerHTML = bodyContent;
                    pageContentDiv.style.display = 'block';
                    
                    // Execute any scripts in the loaded content
                    this.executeScripts(pageContentDiv);
                    
                    // Wait a moment for scripts to load, then trigger page initialization
                    setTimeout(async () => {
                        await this.initializeLoadedPage(page);
                    }, 200);
                    
                } catch (error) {
                    throw error;
                }
            }
            
            async initializeLoadedPage(page) {
                try {
                    // Page loaded successfully
                    
                    // Call page-specific initialization functions
                    if (typeof window.initializeQuoteMaker === 'function' && page.includes('quote-maker')) {
                        // Calling initializeQuoteMaker
                        await window.initializeQuoteMaker();
                    } else if (typeof window.initializeProductCatalog === 'function' && page.includes('product-catalog')) {
                        // Calling initializeProductCatalog
                        await window.initializeProductCatalog();
                    } else if (typeof window.initializePriceCalculator === 'function' && page.includes('price-calculator')) {
                        // Calling initializePriceCalculator
                        await window.initializePriceCalculator();
                    } else if (typeof window.initializeAdminPanel === 'function' && page.includes('admin-panel')) {
                        // Calling initializeAdminPanel
                        await window.initializeAdminPanel();
                    }
                    
                    // Page loading completed successfully
                } catch (error) {
                    // Silent error handling for page loading
                }
            }
            
            executeScripts(container) {
                const scripts = container.querySelectorAll('script');
                scripts.forEach(script => {
                    const newScript = document.createElement('script');
                    if (script.src) {
                        newScript.src = script.src;
                    } else {
                        newScript.textContent = script.textContent;
                    }
                    document.head.appendChild(newScript);
                });
            }
            
            showLoading() {
                document.getElementById('loading').style.display = 'block';
            }
            
            hideLoading() {
                document.getElementById('loading').style.display = 'none';
            }
            
            showError(message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'fixed top-24 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
                errorDiv.textContent = message;
                document.body.appendChild(errorDiv);
                
                setTimeout(() => {
                    errorDiv.remove();
                }, 5000);
            }
        }
        
        // Initialize navigation when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            new NavigationManager();
        });
    </script>

    <script>
        // Initialize navigation when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            new NavigationManager();
        });
    </script>
</body>
</html>